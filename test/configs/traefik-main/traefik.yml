api:
  insecure: true
  dashboard: true

experimental:
  localPlugins:
    traefik:
      moduleName: github.com/zalbiraw/traefikprovider

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
  tcp-ep:
    address: ":8000"
  udp-ep:
    address: ":9000/udp"

accessLog: {}

providers:
  plugin:
    traefik:
      pollInterval: "5s"
      providers:
        - name: provider1
          connection:
            host: traefik-provider1
            port: 8080
            path: /api/rawdata
            timeout: "10s"
          matcher: "Provider(`file`)"
          tunnels:
            - matcher: "NameRegexp(`.*`)"
              addresses:
                - "https://traefik-provider1:80"
              mTLS:
                caFile: "/etc/traefik/certs/ca.crt"
                certFile: "/etc/traefik/certs/client.crt"
                keyFile: "/etc/traefik/certs/client.key"
        - name: provider2
          connection:
            host: traefik-provider2
            port: 8080
            path: /api/rawdata
            timeout: "10s"
          matcher: "Provider(`file`)"
          tunnels:
            - matcher: "NameRegexp(`.*`)"
              addresses:
                - "https://traefik-provider2:80"
              mTLS:
                caFile: "/etc/traefik/certs/ca.crt"
                certFile: "/etc/traefik/certs/client.crt"
                keyFile: "/etc/traefik/certs/client.key"
